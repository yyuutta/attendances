# アプリ名

    attendance

# 説明

    勤怠管理アプリ
    バイト、パートタイムスタッフの勤怠を管理
    本年度を軸として、前後1年間の計3年間のシフトを管理 例:本年度→2020であれば、表示可能期間は2019-2021年
    ※表示されないデータはそのままDB内に存在
    
    権限ステータスにより、開けるページが異なる

        1.master(マスター) > 2.admin(管理者) > 3.staff(バイト、パートタイム) > 4.out(退社)
        
        ※ 4.out(退社)はログイン不可

    ページ詳細(各ページにリンク有)
        
        attendance/
            
            ・ログイン
            ├ /index.php
            │
            │   *権限ステータス 無
            │   *ユーザー登録されたスタッフのログイン画面
            │
            ・ユーザー登録
            ├ /index.php?action=register&eventId=connect
            │
            │   *権限ステータス 無
            │   *本アプリへのスタッフ登録ページ
            │   *スタッフの権限など詳細については、ログイン後のスタッフ管理ページにて行う
            │

            ログイン後

            ・トップ
            ├ /index.php
            │
            │   *権限ステータス 1-3
            │   *ログインスタッフ専用のシフトの入力画面
            │
            ・カレンダー
            ├ /index.php?year=●●&action=index&eventId=management
            │
            │   *権限ステータス 1-2
            │   *一年ごとに表示されるカレンダーにてシフトを確認(日付の枠には人数と合計労働時間を表示)
            │   *トップ(ログイン後)画面にコメントを記載する為のテキストBOX
            │
            ・エラー
            ├ /index.php?action=monthlydate&eventId=management&year=●●&month=9&day=●●
            │
            │   *権限ステータス 1-2
            │   *シフト入力に不備のあるデータの一覧が表示される
            │   *編集可能だが、スタッフ管理ページにて、シフト確定がされると編集不可(権限1は可能)
            │   
            ・ダウンロード　※どのような形で落とすのか未定の為、現在は不使用
            ├ ****
            │
            │   *権限ステータス 1
            │   *全ての登録ユーザー情報ダウンロード
            │
            ・メール　※スタッフ管理ページにて、シフト確定ボタンを押下でシフト情報が送信との仕様に変更の為、現在は不使用
            ├ /index.php?action=mail&eventId=management
            │
            │   *権限ステータス 1
            │   *スタッフへのメール送信
            │
            ・日別シフト詳細
            ├ /index.php?action=monthlydate&eventId=management&year=●●&month=●●&day=●●
            │
            │   *権限ステータス 1-2
            │   *選んだ日付の出勤者情報
            │ 
            ・スタッフ管理
            ├ /index.php?action=user&eventId=management&id=●●
            │
            │   *権限ステータス 1-2 (2は一部編集不可)
            │   *権限2が権限1のページを閲覧する事はできない
            │   *スタッフ情報の確認、編集ページ
            │   *シフト確定ボタンを押下→スタッフにシフト記入されたメールが送信される ※heroku版では未設定
            │   *シフト確定ボタンを一度押下すると権限2はボタンが非表示となるが、権限1により再表示が可能
            │

    履歴機能
          
        *スタッフ管理 / エラーページの編集については履歴を取り、スタッフ管理ページにて表示
        *トップ(ログイン後)を含め上記ページ以外の処理履歴は残らない

# ルール / 注意点 / エラー種類など

    ****************
    祝日、会社独自の休みを更新しなければならない (attendance/models/Holiday.php)
    ****************

    ・新規登録
        accessCodeにてmaster/staffの2権限ステータスでの登録が可能
    ・権限が付与されていないページURIを開いた場合、ログアウト→ログインページとなる
    ・トップ(ログイン後)ページでの入力は翌月分→入力可能期間は当月1-20日中 ※閲覧は可能
    ・トップ(ログイン後)ページの日付横の青色の●はデータ登録が正常にされている表示

    ・エラー種類(会社承認があれば、登録されているシフトで可→表示は「OK」となる)

        *不整合登録 - データ登録時の入力不整合データがあった時に表示 例：出勤16時で退勤13時など
        *休憩1h必須 - 1日6時間以上の勤務かつ休憩1時間未満時に表示
        *4h以上必須 - 1日4時間以上の勤務に満たなければ表示
        *出勤必須 - 休日明けは出勤必須の為、出勤登録がなければ表示

# バージョンなど

    ローカル環境
    言語 / PHP 7.0.33
    テンプレートエンジン / Smarty
    デザインライブラリ / Bootstrap
    データベース / Mysql 5.7.26

    作成者 / yy
